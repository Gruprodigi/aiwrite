import{a as e,L as o,r as i,j as t,F as k,H as S,d as n}from"./app-b3d1e4ff.js";import{S as C}from"./sidebar-5828f29e.js";import{A as H}from"./app-69423823.js";import{m as _}from"./moment-b6f90fcd.js";import"./Inputarea-4872f889.js";import"./sweetalert2.all-625b04e3.js";function I({links:r}){function l(s){return s?"mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded hover:bg-indigo-500 hover:text-white focus:border-primary focus:text-primary bg-indigo-500 text-white":"mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded hover:bg-indigo-500 hover:text-white focus:border-primary focus:text-primary"}return r.length>3&&e("div",{className:"mb-4",children:e("div",{className:"flex flex-wrap mt-8",children:r.map((s,u)=>s.url===null?e("div",{className:"mr-1 mb-1 px-4 py-3 text-sm leading-4 text-gray-400 border rounded",dangerouslySetInnerHTML:{__html:s.label}}):e(o,{className:l(s.active),href:s.url,dangerouslySetInnerHTML:{__html:s.label}}))})})}function E({openAi_api_key:r,documents:l,logo:s,langs:u}){const[f,c]=i.exports.useState(),[m,x]=i.exports.useState(),[d,b]=i.exports.useState({param:"",msg:""}),[g,N]=i.exports.useState(),y=(a,h)=>{c(!0),x(a),N(h)},v=a=>{if(a.preventDefault(),!m)return b({param:"rename",msg:"The Document Name Field is Required"});n.Inertia.put(`/user/rename/${g}/file`,{name:m}),c(!1)},w=a=>{window.confirm("Are you sure you want to delete this document?")&&n.Inertia.delete("/user/file/delete/"+a)},D=a=>{n.Inertia.post("/user/file/favorite/"+a,{id:a})},p=()=>{n.Inertia.get("/user/document/create",{data:JSON.stringify("")})};return t(k,{children:[e(S,{children:e("title",{children:"User Dashboard"})}),e(H,{logo:s,children:t("div",{className:"2xl:flex xl:flex lg:flex md:block sm:block",children:[e(C,{apiKey:r,content:a=>{},langs:u}),t("div",{className:"w-full min-sidebar-custom-height overflow-y-scroll relative",children:[t("div",{className:"px-8 flex items-center justify-between border-b border-slate-200 py-4",children:[e("h5",{className:" text-slate-500 font-semibold text-lg",children:"Document Lists"}),t("div",{className:"flex items-center",children:[t(o,{href:"?favorite=all",className:"flex items-center mr-8 text-base text-slate-600 font-semibold",children:[e("i",{className:"ri-star-s-fill text-slate-500 text-xl mr-1"})," Favorites"]}),t("a",{onClick:p,className:"flex items-center text-base text-slate-600 font-semibold cursor-pointer",children:[e("i",{className:"ri-file-add-line mr-1 text-slate-500 text-md mr-1"})," New Document"]})]})]}),l.data.length>0?t("div",{className:"overflow-x-auto",children:[t("table",{className:"w-full text-sm text-left text-gray-500",children:[e("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:t("tr",{className:"text-sm text-slate-500",children:[e("th",{scope:"col",className:"py-4 px-8",children:"Name"}),e("th",{scope:"col",className:"py-4 px-8",children:"Words"}),e("th",{scope:"col",className:"py-4 px-8",children:"Modified"}),e("th",{}),e("th",{})]})}),e("tbody",{className:"text-base",children:l.data.map((a,h)=>t("tr",{className:"bg-white border-b",children:[e("td",{className:"py-3 px-8",children:e(o,{href:`/user/file/${a.slug}`,children:t("span",{className:"flex items-center",children:[e("i",{className:"ri-file-text-fill text-lg text-slate-500 mr-2"})," ",e("span",{className:"text-gray-900",children:a.name})]})})}),e("td",{className:"py-3 px-12",children:a.count}),e("td",{className:"py-3 px-8",children:_(a.updated_at).format("lll")}),e("td",{className:"py-3 px-8",children:e("a",{onClick:()=>D(a.id),className:" cursor-pointer",children:e("i",{className:a.is_favourite===1?"ri-star-fill text-indigo-500 text-base":"ri-star-fill text-base"})})}),e("td",{className:"",children:t("div",{className:"group transition-all delay-100",children:[e("i",{className:"ri-more-2-fill text-xl cursor-pointer"}),e("div",{className:"text-left absolute z-50 right-0 w-52 bg-white rounded divide-y divide-gray-100 custom-shadow hidden group-hover:block transition-all delay-100",children:t("ul",{className:"py-3 text-sm text-gray-700","aria-labelledby":"dropdownMenuIconButton",children:[e("li",{children:e("a",{onClick:()=>y(a.name,a.id),className:"block py-2 px-5 hover:bg-gray-100 cursor-pointer ",children:t("span",{className:"flex items-center",children:[e("i",{className:"ri-edit-line mr-2"})," ",e("span",{children:"Rename"})]})})}),e("li",{children:e(o,{href:"/user/file/"+a.slug,className:"block py-2 px-5 hover:bg-gray-100",children:t("span",{className:"flex items-center",children:[e("i",{className:"ri-file-edit-line mr-2"})," ",e("span",{children:"Edit Document"})]})})}),e("li",{children:e("a",{onClick:()=>w(a.id),className:"block py-2 px-5 hover:bg-gray-100  cursor-pointer",children:t("span",{className:"flex items-center",children:[e("i",{className:"ri-delete-bin-line mr-2"})," ",e("span",{children:"Delete Document"})]})})})]})})]})})]},h))})]}),e("div",{className:" float-right pr-2 mb-12",children:e(I,{className:"mt-6",links:l.links})})]}):e("div",{className:" flex items-center justify-center min-document-custom-height",children:t("div",{className:"text-center",children:[t("svg",{className:"text-8xl fill-slate-200 font-light inline-block",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",fill:"currentColor",viewBox:"0 0 16 16",children:[e("path",{d:"M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z"}),e("path",{d:"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"})]}),t("p",{className:"  text-gray-300 mt-5 text-xl",children:["No Document Found. Create a ",e("a",{onClick:p,className:"cursor-pointer text-indigo-300 font-normal hover:text-indigo-500 transition delay-75",children:"New Document"})]})]})})]})]})}),e("div",{className:f?"fixed z-10 inset-0 overflow-y-auto":"hidden",children:t("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),e("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),e("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-xl sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:t("form",{onSubmit:v,children:[e("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e("div",{className:"",children:t("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[e("h3",{className:"text-lg leading-6 text-gray-600 font-semibold",id:"modal-headline",children:"Rename Document Name"}),e("div",{className:"mt-2",children:t("div",{className:"mt-7",children:[e("label",{className:"text-gray-500 font-normal text-base mb-4",children:"Document Name"}),e("input",{onChange:a=>x(a.target.value),type:"text",value:m||"",placeholder:"Enter Document Name",className:" bg-user-dashboard rounded-md px-4 h-12 w-full mt-2 placeholder:text-sm placeholder:font-light focus:outline-none border border-slate-300 focus:outline-0 focus:shadow-none"}),d&&d.param==="rename"&&e("span",{className:" text-red-500",children:d.msg})]})})]})})}),t("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Update Name"}),e("button",{onClick:()=>c(!1),type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})})]})}export{E as default};
