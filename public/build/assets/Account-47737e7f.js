import{r as m,j as r,F as b,a as e,H as C,d as S}from"./app-b3d1e4ff.js";import{I as n}from"./Inputarea-4872f889.js";import{A as E}from"./app-69423823.js";import{S as c}from"./sweetalert2.all-625b04e3.js";import{S as I}from"./Sidebar-8794ff43.js";function R(l){const[u,p]=m.exports.useState(),[h,x]=m.exports.useState(),[i,w]=m.exports.useState(),[d,v]=m.exports.useState(),[o,N]=m.exports.useState(),[a,t]=m.exports.useState({param:"",msg:""});var f=c.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:s=>{s.addEventListener("mouseenter",c.stopTimer),s.addEventListener("mouseleave",c.resumeTimer)}});m.exports.useEffect(()=>{p(l.user.name),x(l.user.email)},[l.user]);const P=s=>{if(s.preventDefault(),t({param:"",msg:""}),!u)return t({param:"name",msg:"The Name Field Is Required"});if(!h)return t({param:"email",msg:"The Email Field Is Required"});if(i){if(!i)return t({param:"currentPassword",msg:"The Current Password Field Is Required"});if(!d)return t({param:"password",msg:"The Password Field Is Required"});if(!o)return t({param:"confirmPassword",msg:"The Confirm Password Field Is Required"});if(d!=o)return t({param:"password",msg:"The Confirm Password doesn't match."})}S.Inertia.visit("/user/account",{method:"post",data:{name:u,email:h,currentPassword:i,password:d,confirmPassword:o},onSuccess:g=>{f.fire({icon:"success",title:"Successfully Updated!"})},onError:g=>{f.fire({icon:"error",title:g.currentPassword})}})};return r(b,{children:[e(C,{children:e("title",{children:"Edit Profile"})}),e(E,{logo:l.logo,children:e("div",{className:"container mx-auto my-20",children:r("div",{className:"2xl:flex lg:flex md:flex sm:block 2xl:space-x-12 xl:space-x-12 lg:space-x-12 md:space-x-12",children:[e(I,{}),r("div",{className:"2xl:w-1/2 xl:w-1/2 lg:w-1/2 md:w-1/2 sm:w-full",children:[e("h1",{className:" text-slate-600 text-2xl font-medium",children:"Edit Profile Information"}),r("form",{onSubmit:P,children:[r("div",{className:"mt-8",children:[e(n,{defaultValue:l.user.name,label:"Name",onHandleChange:s=>p(s.target.value)}),a&&a.param==="name"&&e("span",{className:" text-red-500 text-sm",children:a.msg})]}),r("div",{className:"mt-5",children:[e(n,{defaultValue:l.user.email,label:"Email",type:"email",onHandleChange:s=>x(s.target.value)}),a&&a.param==="email"&&e("span",{className:" text-red-500 text-sm",children:a.msg})]}),r("div",{className:" mt-12",children:[e("h5",{className:"text-slate-600 text-2xl font-medium",children:"Change Your Password"}),r("div",{className:"mt-5",children:[e(n,{label:"Current Password",type:"password",onHandleChange:s=>w(s.target.value)}),a&&a.param==="currentPassword"&&e("span",{className:" text-red-500 text-sm",children:a.msg})]}),r("div",{className:"mt-5",children:[e(n,{label:"Password",type:"password",onHandleChange:s=>v(s.target.value)}),a&&a.param==="password"&&e("span",{className:" text-red-500 text-sm",children:a.msg})]}),r("div",{className:"mt-5",children:[e(n,{label:"Confirmation Password",type:"password",onHandleChange:s=>N(s.target.value)}),a&&a.param==="confirmPassword"&&e("span",{className:" text-red-500 text-sm",children:a.msg})]}),e("div",{className:" mt-5 float-right mb-20",children:e("button",{type:"submit",className:" bg-indigo-500 py-3 px-12 text-white text-base rounded-md",children:"Update"})})]})]})]})]})})})]})}export{R as default};
